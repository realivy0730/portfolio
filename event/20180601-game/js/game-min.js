"use strict";!function(t,e,o,a){var n,s,i,p,u=o(".tsg"),g=o(".tsg-ball"),r=o(".tsg-character"),d=o(".prevent"),c=g.width(),f=c-30,h=0,l=0,m=0,v=0,x=200,C=-20,w=!1,X=.73;function Y(t){var e=t.pageX?t.pageX:t.touches[0].pageX,a=t.pageY?t.pageY:t.touches[0].pageY;w=!!o(t.target).is(g),h=e,l=a,m=e,v=a,p=!1,g.addClass("hold"),t.preventDefault()}function b(t){var e=[u.offset().left,u.offset().top],o=e[0],a=e[1],n=t.pageX?t.pageX:t.touches[0].pageX,s=t.pageY?t.pageY:t.touches[0].pageY;w&&(g.css({left:n-o-c/2+"px",top:s-a-c/2+"px"}),h=m,l=v,m=n,v=s),t.preventDefault()}function L(t){if(w){if(w=!1,l-v<8)return void B(!0);t.pageX&&(m=t.pageX,v=t.pageY),s=(m-h)/2.5,i=v-l<C?C:v-l,k()}t.preventDefault()}function k(){g.css({left:"+="+s,top:"+="+i,width:n+"px",height:n+"px"}),n=n>f?n-1:f,p?i/=X:(i*=X)>-1&&(p=!0,i=Math.abs(i)),!p||g.position().top<x?requestAnimationFrame(k):(g.css({top:x+"px"}),function(t,e,o){var a=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=o.getBoundingClientRect();return a.top<n.top&&a.left<n.left&&a.right>n.right&&(s.left>n.left||s.right<n.right)}(r[0],g[0],d[0])?(g.fadeOut("fast"),r.addClass("hit"),setTimeout(D,1e3),setTimeout(E,50)):(g.addClass("broke"),setTimeout(B,1e3)))}function B(t){g.removeClass("broke").removeClass("hold").animate({left:u.width()/2-c/2+"px",top:u.height()-c-150+"px",width:c+"px",height:c+"px"},t?500:0)}function D(){o("#GameLightbox").css("display","block")}function E(){o("#confetti").addClass("gameshow")}u.on("mousedown",u,Y).on("mousemove",u,b).on("mouseup",u,L),u[0].addEventListener("touchstart",Y),u[0].addEventListener("touchmove",b),u[0].addEventListener("touchend",L)}(window,document,jQuery);