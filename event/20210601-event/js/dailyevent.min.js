"use strict";!function(){var e="https://event.shopping.friday.tw/event/20210601-event-source/products.json?v="+(new Date).getTime(),t=null,i=null,n=0;if($.getJSON(e,function(e){$("#BuyTodayProducts").html(function(e){var a="";if(Array.isArray(e)&&e.length>0){var o=(new Date).toLocaleDateString(),s=(new Date).getTime()>new Date(o+" 12:00:00").getTime();e.forEach(function(e,r){var c=e.start===o,d=c?"TodayPid":"",l=c?"今日限搶":e.start.substr(5).replace(/\/(\d+)$/i,"/<em>$1</em>"),v=new Date(e.start+" 23:59:59").getTime()<(new Date).getTime(),u=v?"Pidfinish":"",p='<div class="Comesoon">敬請期待></div>',w=e.link&&c?e.link:"";(e.pid||e.cid)&&(v&&(p='<div class="Cover">活動<br>結束</div>\n            <div class="Comesoon">敬請期待></div>\n            '),c&&(t=e.pid,i=e.cid,n=r,p=s?'<div class="BuyTodayProductsCurrentItem ButtonStyle ButtonStyle2">立即<br>搶購</div>':'<div class="ButtonStyle ButtonStyle1">即將<br>開賣</div>'),a+='<li class="swiper-slide '.concat(d," ").concat(u,'">'),w&&(a+='<a href="'.concat(w,'" title="').concat(e.name,'" target="_blank">')),a+='<div class="Date">'.concat(l,'</div>\n              <div class="Border">\n                <div class="PidImg"><img src="').concat(e.image_url,'" width="220" height="220" alt="').concat(e.name,'"></div>\n                <div class="PidName">').concat(e.name,'</div>\n                <div class="PidPrice">限搶價$<em>').concat(e.event_price,"</em></div>\n                ").concat(p,"\n              </div>"),w&&(a+="</a>"),a+="</li>")})}return a}(e)),o(),$.getJSON("https://m.shopping.friday.tw/mobileapi/api/product/".concat(t,"/detail?cid=").concat(i),function(e){if(e.data[0].soldout){var t=$(".BuyTodayProductsCurrentItem");t.removeClass("ButtonStyle2"),t.addClass("ButtonStyle3").html("銷售<br>一空")}})}),location.hash)$(".Section").show();else{var a=window.innerHeight;/iPhone/i.test(navigator.userAgent)&&/safari/i.test(navigator.userAgent)&&(a+=320);window.addEventListener("scroll",function e(){this.scrollY>a&&($(".Section").show(),window.removeEventListener("scroll",e))})}var o=function(){new Swiper(".swiper-container_g",{slidesPerView:"auto",loop:!0,loopedSlides:15,initialSlide:n,centeredSlides:!0,observer:!0,observeParents:!0,spaceBetween:10,paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",breakpoints:{768:{slidesPerView:"auto",spaceBetween:10}}})}}();